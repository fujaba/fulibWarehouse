<!-- Bootstrap CSS -->
<link rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous">

<script>
    function handler (response) {
        console.log(response);
    }

    function submit(cmd) {
        if (cmd) {
            const words = cmd.split(' ');
            // collect actual parameters
            var request = {};
            request['_cmd'] = words[0];

            for (var i = 1; i < words.length; i++) {
                const divElem = document.getElementById(words[i]);
                const subDiv = divElem.getElementsByTagName('div')[0];
                const inputElem = subDiv.getElementsByTagName('input')[0];
                const value = inputElem.value;
                request[words[i]] = value;
            }
            const requestString = JSON.stringify(request);
            const httpRequest = new XMLHttpRequest();
            httpRequest.overrideMimeType('application/json');
            httpRequest.addEventListener('load', function() {
                handler(JSON.parse(this.responseText));
            });
            httpRequest.open('POST', 'localhost:6677/cmd', true);
            httpRequest.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');
            httpRequest.send(requestString);
        }
    }
</script>

<div id='fork-lift-guide' class='container'>
    <div class='row justify-content-center'>
		<div class='col col-lg-2 text-center' style='margin: 1rem'>Fork Lift Guide</div>
    </div>
	<div id='add-supply-page' >
	    <div class='row justify-content-center'>
			<div class='col col-lg-2 text-center' style='margin: 1rem'>New Supply</div>
			<div class='col col-lg-2 text-center'><button onclick='submit()' style='margin: 1rem'>Store Palettes</button></div>
	    </div>
		<div id='pal-in' >
		    <div class='row justify-content-center'>
				<input class='col col-lg-2 text-center' placeholder='palette id?' value='eu500' style='margin: 1rem'></input>
		    </div>
		</div>
		<div id='product-in' >
		    <div class='row justify-content-center'>
				<input class='col col-lg-2 text-center' placeholder='product?' value='Sneakers' style='margin: 1rem'></input>
		    </div>
		</div>
		<div id='items-in' >
		    <div class='row justify-content-center'>
				<input class='col col-lg-2 text-center' placeholder='number of items?' value='50' style='margin: 1rem'></input>
		    </div>
		</div>
		<div id='add-palette-button' >
		    <div class='row justify-content-center'>
				<div class='col col-lg-2 text-center'><button onclick='submit(submit('add-palette pal-in product-in items-in'))' style='margin: 1rem'>submit</button></div>
		    </div>
		</div>
	</div>
</div>
